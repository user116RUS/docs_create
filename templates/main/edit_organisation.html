{% extends '../wrapper.html' %}

{% block title %}Редактирование организации{% endblock %}

{% block content %}
{% load user_filters %}
<style>
    .input-sm {
        height: 38px !important;
    }
    .text-area-md {
        height: 100px !important;
    }
</style>
<div class="row my-4">
    <div class="col-lg-10 mx-auto">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="bi bi-building me-2"></i>Редактирование организации</h4>
            </div>
            <div class="card-body p-4">
                <form method="post" class="needs-validation" novalidate>
                    {% csrf_token %}
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="{{ form.name.id_for_label }}" class="form-label">{{ form.name.label }}</label>
                                {{ form.name|addclass:"form-control" }}
                                <div class="form-text">{{ form.name.help_text }}</div>
                                {% if form.name.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.name.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.short_name.id_for_label }}" class="form-label">{{ form.short_name.label }}</label>
                                {{ form.short_name|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.short_name.help_text }}</div>
                                {% if form.short_name.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.short_name.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.fio.id_for_label }}" class="form-label">{{ form.fio.label }}</label>
                                {{ form.fio|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.fio.help_text }}</div>
                                {% if form.fio.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.fio.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.function.id_for_label }}" class="form-label">{{ form.function.label }}</label>
                                {{ form.function|addclass:"form-select input-sm" }}
                                {% if form.function.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.function.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.address.id_for_label }}" class="form-label">{{ form.address.label }}</label>
                                {{ form.address|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.address.help_text }}</div>
                                {% if form.address.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.address.errors }}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="{{ form.inn.id_for_label }}" class="form-label">{{ form.inn.label }}</label>
                                {{ form.inn|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.inn.help_text }}</div>
                                {% if form.inn.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.inn.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.kpp.id_for_label }}" class="form-label">{{ form.kpp.label }}</label>
                                {{ form.kpp|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.kpp.help_text }}</div>
                                {% if form.kpp.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.kpp.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.bik.id_for_label }}" class="form-label">{{ form.bik.label }}</label>
                                {{ form.bik|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.bik.help_text }}</div>
                                {% if form.bik.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.bik.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.bank_name.id_for_label }}" class="form-label">{{ form.bank_name.label }}</label>
                                {{ form.bank_name|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.bank_name.help_text }}</div>
                                {% if form.bank_name.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.bank_name.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.bank_account.id_for_label }}" class="form-label">{{ form.bank_account.label }}</label>
                                {{ form.bank_account|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.bank_account.help_text }}</div>
                                {% if form.bank_account.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.bank_account.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group mb-3">
                                <label for="{{ form.correspondent_bank_account.id_for_label }}" class="form-label">{{ form.correspondent_bank_account.label }}</label>
                                {{ form.correspondent_bank_account|addclass:"form-control input-sm" }}
                                <div class="form-text">{{ form.correspondent_bank_account.help_text }}</div>
                                {% if form.correspondent_bank_account.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.correspondent_bank_account.errors }}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="{{ form.requisites.id_for_label }}" class="form-label">{{ form.requisites.label }}</label>
                        {{ form.requisites|addclass:"form-control text-area-md" }}
                        <div class="form-text">{{ form.requisites.help_text }}</div>
                        {% if form.requisites.errors %}
                        <div class="invalid-feedback d-block">
                            {{ form.requisites.errors }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <div class="form-check form-switch mb-4">
                        {{ form.is_our|addclass:"form-check-input" }}
                        <label class="form-check-label" for="{{ form.is_our.id_for_label }}">{{ form.is_our.label }}</label>
                        <div class="form-text">Отметьте, если это ваша организация (для отображения в качестве исполнителя)</div>
                    </div>
                    
                    <div class="d-flex justify-content-between mt-4">
                        <a href="{% url 'main:organisations_list' %}" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left me-1"></i>Вернуться к списку
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle me-1"></i>Сохранить изменения
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %} 